{"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/auth.spec.ts":{"path":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/auth.spec.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":57}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":47}},"5":{"start":{"line":8,"column":20},"end":{"line":8,"column":57}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":30}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"8":{"start":{"line":11,"column":20},"end":{"line":11,"column":67}},"9":{"start":{"line":12,"column":14},"end":{"line":12,"column":51}},"10":{"start":{"line":13,"column":0},"end":{"line":60,"column":3}},"11":{"start":{"line":14,"column":4},"end":{"line":21,"column":7}},"12":{"start":{"line":15,"column":8},"end":{"line":20,"column":9}},"13":{"start":{"line":16,"column":12},"end":{"line":16,"column":48}},"14":{"start":{"line":19,"column":12},"end":{"line":19,"column":65}},"15":{"start":{"line":22,"column":4},"end":{"line":26,"column":7}},"16":{"start":{"line":23,"column":8},"end":{"line":25,"column":11}},"17":{"start":{"line":24,"column":12},"end":{"line":24,"column":19}},"18":{"start":{"line":27,"column":4},"end":{"line":38,"column":7}},"19":{"start":{"line":28,"column":25},"end":{"line":34,"column":10}},"20":{"start":{"line":35,"column":8},"end":{"line":35,"column":57}},"21":{"start":{"line":36,"column":8},"end":{"line":36,"column":68}},"22":{"start":{"line":37,"column":8},"end":{"line":37,"column":67}},"23":{"start":{"line":39,"column":4},"end":{"line":46,"column":7}},"24":{"start":{"line":40,"column":25},"end":{"line":43,"column":10}},"25":{"start":{"line":44,"column":8},"end":{"line":44,"column":57}},"26":{"start":{"line":45,"column":8},"end":{"line":45,"column":68}},"27":{"start":{"line":47,"column":4},"end":{"line":51,"column":7}},"28":{"start":{"line":48,"column":25},"end":{"line":48,"column":104}},"29":{"start":{"line":49,"column":8},"end":{"line":49,"column":57}},"30":{"start":{"line":50,"column":8},"end":{"line":50,"column":87}},"31":{"start":{"line":52,"column":4},"end":{"line":59,"column":7}},"32":{"start":{"line":53,"column":25},"end":{"line":56,"column":10}},"33":{"start":{"line":57,"column":8},"end":{"line":57,"column":57}},"34":{"start":{"line":58,"column":8},"end":{"line":58,"column":90}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":27},"end":{"line":13,"column":28}},"loc":{"start":{"line":13,"column":33},"end":{"line":60,"column":1}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":11},"end":{"line":14,"column":12}},"loc":{"start":{"line":14,"column":23},"end":{"line":21,"column":5}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":11},"end":{"line":22,"column":12}},"loc":{"start":{"line":22,"column":21},"end":{"line":26,"column":5}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":23,"column":43},"end":{"line":23,"column":44}},"loc":{"start":{"line":23,"column":52},"end":{"line":25,"column":9}},"line":23},"5":{"name":"(anonymous_5)","decl":{"start":{"line":27,"column":54},"end":{"line":27,"column":55}},"loc":{"start":{"line":27,"column":66},"end":{"line":38,"column":5}},"line":27},"6":{"name":"(anonymous_6)","decl":{"start":{"line":39,"column":62},"end":{"line":39,"column":63}},"loc":{"start":{"line":39,"column":74},"end":{"line":46,"column":5}},"line":39},"7":{"name":"(anonymous_7)","decl":{"start":{"line":47,"column":49},"end":{"line":47,"column":50}},"loc":{"start":{"line":47,"column":61},"end":{"line":51,"column":5}},"line":47},"8":{"name":"(anonymous_8)","decl":{"start":{"line":52,"column":52},"end":{"line":52,"column":53}},"loc":{"start":{"line":52,"column":64},"end":{"line":59,"column":5}},"line":52}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":5,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1},"f":{"0":5,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"b":{"0":[1,1,1],"1":[2,3],"2":[5,5]},"inputSourceMap":{"version":3,"file":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/auth.spec.ts","sources":["/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/auth.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import request from 'supertest';\nimport chai from 'chai';\nimport chaiHttp from 'chai-http';\nimport { expect } from 'chai';\nchai.use(chaiHttp);\nimport User from '../models/userModel';\n// import mongoose from 'mongoose';\nimport app from '../../app';\ndescribe('Auth endpoints', () => {\n  before(async () => {\n    try {\n      //connection\n      // await mongoose.connect('mongodb://127.0.0.1:27017/My-brand-BE')\n      console.log('Connected to MongoDB');\n    } catch (error) {\n      console.error('Error connecting to MongoDB:', error);\n    }\n  });\n\n  before((done) => {\n    User.deleteMany({}, (err) => {\n      done();\n    });\n  });\n\n  it('should create a new user and return a token', async () => {\n    const response = await request(app).post('/api/users/signup').send({\n      name: 'Test User',\n      email: 'test1@example.com',\n      password: 'password123',\n      confirmPassword: 'password123',\n      role: 'user',\n    });\n    // console.log(response)\n    expect(response).to.have.status(201);\n    expect(response.body).to.have.property('token');\n    expect(response.body).to.have.property('data');\n  });\n  it('should login a user successfully and return a token', async () => {\n    const response = await request(app).post('/api/users/login').send({\n      email: 'test1@example.com',\n      password: 'password123',\n    });\n    expect(response).to.have.status(200);\n    expect(response.body).to.have.property('token');\n  });\n  it('should return enter email and password', async () => {\n    const response = await request(app).post('/api/users/login').send({});\n    expect(response).to.have.status(400);\n    expect(response.body.message).to.equal('Enter email and password');\n  });\n  it('should return incorrect email or password', async () => {\n    const response = await request(app).post('/api/users/login').send({\n      email: 'test1@example.com',\n      password: 'password124',\n    });\n    expect(response).to.have.status(401);\n    expect(response.body.message).to.equal('Incorrect password or email');\n  });\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3cc059b100ca0240bc095e1be537ecd71938e042"},"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/userModel.ts":{"path":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/userModel.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":38}},"4":{"start":{"line":7,"column":20},"end":{"line":7,"column":57}},"5":{"start":{"line":8,"column":19},"end":{"line":8,"column":55}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":51}},"7":{"start":{"line":10,"column":19},"end":{"line":10,"column":55}},"8":{"start":{"line":11,"column":26},"end":{"line":13,"column":1}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":32}},"10":{"start":{"line":14,"column":19},"end":{"line":52,"column":2}},"11":{"start":{"line":53,"column":0},"end":{"line":58,"column":3}},"12":{"start":{"line":54,"column":4},"end":{"line":55,"column":22}},"13":{"start":{"line":55,"column":8},"end":{"line":55,"column":22}},"14":{"start":{"line":56,"column":4},"end":{"line":56,"column":69}},"15":{"start":{"line":57,"column":4},"end":{"line":57,"column":76}},"16":{"start":{"line":59,"column":0},"end":{"line":61,"column":2}},"17":{"start":{"line":60,"column":4},"end":{"line":60,"column":77}},"18":{"start":{"line":62,"column":0},"end":{"line":70,"column":2}},"19":{"start":{"line":63,"column":23},"end":{"line":63,"column":71}},"20":{"start":{"line":64,"column":4},"end":{"line":67,"column":23}},"21":{"start":{"line":68,"column":4},"end":{"line":68,"column":70}},"22":{"start":{"line":69,"column":4},"end":{"line":69,"column":22}},"23":{"start":{"line":71,"column":13},"end":{"line":71,"column":57}},"24":{"start":{"line":72,"column":0},"end":{"line":72,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":26},"end":{"line":11,"column":27}},"loc":{"start":{"line":11,"column":40},"end":{"line":13,"column":1}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":53,"column":23},"end":{"line":53,"column":24}},"loc":{"start":{"line":53,"column":45},"end":{"line":58,"column":1}},"line":53},"3":{"name":"(anonymous_3)","decl":{"start":{"line":59,"column":37},"end":{"line":59,"column":38}},"loc":{"start":{"line":59,"column":86},"end":{"line":61,"column":1}},"line":59},"4":{"name":"(anonymous_4)","decl":{"start":{"line":62,"column":46},"end":{"line":62,"column":47}},"loc":{"start":{"line":62,"column":58},"end":{"line":70,"column":1}},"line":62}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":54,"column":4},"end":{"line":55,"column":22}},"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":55,"column":22}},{"start":{"line":54,"column":4},"end":{"line":55,"column":22}}],"line":54}},"s":{"0":1,"1":4,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":3,"10":1,"11":1,"12":3,"13":0,"14":3,"15":3,"16":1,"17":3,"18":1,"19":0,"20":0,"21":0,"22":0,"23":1,"24":1},"f":{"0":4,"1":3,"2":3,"3":3,"4":0},"b":{"0":[1,1,1],"1":[0,4],"2":[4,4],"3":[0,3]},"inputSourceMap":{"version":3,"file":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/userModel.ts","sources":["/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/userModel.ts"],"names":[],"mappings":";;;;;AAAA,uCAA4C;AAC5C,0DAAkC;AAClC,wDAA8B;AAC9B,oDAA4B;AAC5B,wDAAgC;AAoBhC,MAAM,iBAAiB,GAAG,UAAsB,EAAU;IACxD,OAAO,EAAE,KAAK,IAAI,CAAC,QAAQ,CAAC;AAC9B,CAAC,CAAC;AAEF,MAAM,UAAU,GAAkB,IAAI,iBAAM,CAAQ;IAClD,IAAI,EAAE;QACJ,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE,KAAK;QACb,QAAQ,EAAE,CAAC,IAAI,EAAE,kBAAkB,CAAC;KACrC;IACD,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,CAAC,IAAI,EAAE,mBAAmB,CAAC;QACrC,MAAM,EAAE,IAAI;QACZ,SAAS,EAAE,IAAI;QACf,QAAQ,EAAE,CAAC,mBAAS,CAAC,OAAO,EAAE,4BAA4B,CAAC;QAC3D,SAAS,EAAE,CAAC;KACb;IACD,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,OAAO,EACL,mHAAmH;KACtH;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC;QACvB,OAAO,EAAE,MAAM;KAChB;IACD,QAAQ,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,IAAI,EAAE,sBAAsB,CAAC,EAAE;IACpE,eAAe,EAAE;QACf,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,CAAC,IAAI,EAAE,yBAAyB,CAAC;QAC3C,QAAQ,EAAE;YACR,SAAS,EAAE,iBAAiB;YAC5B,OAAO,EAAE,wBAAwB;SAClC;KACF;IACD,iBAAiB,EAAE;QACjB,IAAI,EAAE,IAAI;QACV,OAAO,EAAE,IAAI,CAAC,GAAG;KAClB;IACD,kBAAkB,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;IACpC,oBAAoB,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;CACrC,CAAC,CAAC;AAEH,UAAU,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,WAAU,IAAI;IACxC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;QAAE,OAAO,IAAI,EAAE,CAAC;IAEhD,IAAI,CAAC,QAAQ,GAAG,MAAM,kBAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IACrD,IAAI,CAAC,eAAe,GAAG,MAAM,kBAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;AAC9D,CAAC,CAAC,CAAC;AAEH,UAAU,CAAC,OAAO,CAAC,eAAe,GAAG,KAAK,WACxC,iBAAiB,EACjB,YAAY;IAEZ,OAAO,MAAM,kBAAM,CAAC,OAAO,CAAC,iBAAiB,EAAE,YAAY,CAAC,CAAC;AAC/D,CAAC,CAAC;AAEF,UAAU,CAAC,OAAO,CAAC,wBAAwB,GAAG;IAC5C,MAAM,UAAU,GAAG,gBAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC1D,IAAI,CAAC,kBAAkB,GAAG,gBAAM;SAC7B,UAAU,CAAC,QAAQ,CAAC;SACpB,MAAM,CAAC,UAAU,CAAC;SAClB,MAAM,CAAC,KAAK,CAAC,CAAC;IACjB,IAAI,CAAC,oBAAoB,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;IAElE,OAAO,UAAU,CAAC;AACpB,CAAC,CAAC;AAEF,MAAM,IAAI,GAAG,kBAAQ,CAAC,KAAK,CAAQ,MAAM,EAAE,UAAU,CAAC,CAAC;AACvD,kBAAe,IAAI,CAAC","sourcesContent":["import { Schema, Document } from 'mongoose';\nimport validator from 'validator';\nimport bcrypt from 'bcryptjs';\nimport crypto from 'crypto';\nimport mongoose from 'mongoose';\n\nexport interface IUser extends Document {\n  name: string;\n  email: string;\n  photo: string;\n  role: string;\n  password: string;\n  confirmPassword: string;\n  passwordChangedAt: Date;\n  passwordResetToken?: string;\n  passwordResetExpires?: Date;\n  correctPassword(\n    candidatePassword: string,\n    userPassword: string,\n  ): Promise<boolean>;\n  changedPasswordAfter(JWTTimestamp: number): boolean;\n  createResetPasswordToken(): string;\n}\n\nconst passwordValidator = function(this: IUser, el: string): boolean {\n  return el === this.password;\n};\n\nconst userSchema: Schema<IUser> = new Schema<IUser>({\n  name: {\n    type: String,\n    unique: false,\n    required: [true, 'Name is required'],\n  },\n  email: {\n    type: String,\n    required: [true, 'Email is required'],\n    unique: true,\n    lowercase: true,\n    validate: [validator.isEmail, 'Please enter a valid email'],\n    minlength: 8,\n  },\n  photo: {\n    type: String,\n    default:\n      'https://png.pngtree.com/png-vector/20191101/ourmid/pngtree-cartoon-color-simple-male-avatar-png-image_1934459.jpg',\n  },\n  role: {\n    type: String,\n    enum: ['admin', 'user'],\n    default: 'user',\n  },\n  password: { type: String, required: [true, 'Password is required'] },\n  confirmPassword: {\n    type: String,\n    required: [true, 'Please Confirm Password'],\n    validate: {\n      validator: passwordValidator,\n      message: 'Passwords do not match',\n    },\n  },\n  passwordChangedAt: {\n    type: Date,\n    default: Date.now,\n  },\n  passwordResetToken: { type: String },\n  passwordResetExpires: { type: Date },\n});\n\nuserSchema.pre('save', async function(next) {\n  if (!this.isModified('password')) return next();\n\n  this.password = await bcrypt.hash(this.password, 12);\n  this.confirmPassword = await bcrypt.hash(this.password, 12);\n});\n\nuserSchema.methods.correctPassword = async function(\n  candidatePassword,\n  userPassword,\n) {\n  return await bcrypt.compare(candidatePassword, userPassword);\n};\n\nuserSchema.methods.createResetPasswordToken = function() {\n  const resetToken = crypto.randomBytes(32).toString('hex');\n  this.passwordResetToken = crypto\n    .createHash('sha256')\n    .update(resetToken)\n    .digest('hex');\n  this.passwordResetExpires = new Date(Date.now() + 10 * 60 * 1000);\n\n  return resetToken;\n};\n\nconst User = mongoose.model<IUser>('User', userSchema);\nexport default User;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d86ecfacd5fd2c2e22e3ed7c946f03eedcf0b02e"},"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/routes/useRouter.ts":{"path":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/routes/useRouter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":34}},"2":{"start":{"line":4,"column":23},"end":{"line":4,"column":65}},"3":{"start":{"line":5,"column":23},"end":{"line":5,"column":65}},"4":{"start":{"line":6,"column":15},"end":{"line":6,"column":31}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":46}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":44}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":62}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":68}},"9":{"start":{"line":11,"column":0},"end":{"line":13,"column":97}},"10":{"start":{"line":14,"column":0},"end":{"line":18,"column":99}},"11":{"start":{"line":19,"column":0},"end":{"line":19,"column":25}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/routes/useRouter.ts","sources":["/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/routes/useRouter.ts"],"names":[],"mappings":";;AAAA,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACnC,MAAM,cAAc,GAAG,OAAO,CAAC,iCAAiC,CAAC,CAAC;AAClE,MAAM,cAAc,GAAG,OAAO,CAAC,iCAAiC,CAAC,CAAC;AAElE,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,cAAc,CAAC,MAAM,CAAC,CAAC;AAC9C,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAc,CAAC,KAAK,CAAC,CAAC;AAC5C,MAAM,CAAC,IAAI,CAAC,iBAAiB,EAAE,cAAc,CAAC,cAAc,CAAC,CAAC;AAC9D,MAAM,CAAC,KAAK,CAAC,uBAAuB,EAAE,cAAc,CAAC,aAAa,CAAC,CAAC;AAEpE,MAAM;KACH,KAAK,CAAC,GAAG,CAAC;KACV,GAAG,CACF,cAAc,CAAC,OAAO,EACtB,cAAc,CAAC,UAAU,CAAC,OAAO,CAAC,EAClC,cAAc,CAAC,WAAW,CAC3B,CAAC;AACJ,MAAM;KACH,KAAK,CAAC,MAAM,CAAC;KACb,GAAG,CACF,cAAc,CAAC,OAAO,EACtB,cAAc,CAAC,UAAU,CAAC,OAAO,CAAC,EAClC,cAAc,CAAC,aAAa,CAC7B;KACA,KAAK,CAAC,cAAc,CAAC,OAAO,EAAE,cAAc,CAAC,UAAU,CAAC;KACxD,MAAM,CACL,cAAc,CAAC,OAAO,EACtB,cAAc,CAAC,UAAU,CAAC,OAAO,CAAC,EAClC,cAAc,CAAC,UAAU,CAC1B,CAAC;AAEJ,kBAAe,MAAM,CAAC","sourcesContent":["const express = require('express');\nconst userController = require('./../controllers/userController');\nconst authController = require('./../controllers/authController');\n\nconst router = express.Router();\n\nrouter.post('/signup', authController.signUp);\nrouter.post('/login', authController.login);\nrouter.post('/forgetpassword', authController.forgetPassword);\nrouter.patch('/resetPassword/:token', authController.resetPassword);\n\nrouter\n  .route('/')\n  .get(\n    authController.protect,\n    authController.restrictTo('admin'),\n    userController.GetAllUsers,\n  );\nrouter\n  .route('/:id')\n  .get(\n    authController.protect,\n    authController.restrictTo('admin'),\n    userController.GetSingleUser,\n  )\n  .patch(authController.protect, userController.UpdateUser)\n  .delete(\n    authController.protect,\n    authController.restrictTo('admin'),\n    userController.DeleteUser,\n  );\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"896abdfe753e4cb622a5d004f73a1413f7976a81"},"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/routes/blogsRoute.ts":{"path":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/routes/blogsRoute.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":25},"end":{"line":7,"column":65}},"5":{"start":{"line":8,"column":25},"end":{"line":8,"column":82}},"6":{"start":{"line":9,"column":23},"end":{"line":9,"column":65}},"7":{"start":{"line":10,"column":23},"end":{"line":10,"column":65}},"8":{"start":{"line":11,"column":15},"end":{"line":11,"column":41}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":171}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":50}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":55}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":149}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":109}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":78}},"15":{"start":{"line":18,"column":0},"end":{"line":18,"column":76}},"16":{"start":{"line":19,"column":0},"end":{"line":19,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[1,1],"2":[2,2]},"inputSourceMap":{"version":3,"file":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/routes/blogsRoute.ts","sources":["/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/routes/blogsRoute.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,kEAAwE;AACxE,mFAAiE;AACjE,MAAM,cAAc,GAAG,OAAO,CAAC,iCAAiC,CAAC,CAAC;AAClE,MAAM,cAAc,GAAG,OAAO,CAAC,iCAAiC,CAAC,CAAC;AAElE,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,MAAM,CAAC,IAAI,CACT,GAAG,EACH,cAAc,CAAC,OAAO,EACtB,cAAc,CAAC,UAAU,CAAC,OAAO,CAAC,EAClC,uBAAM,CAAC,MAAM,CAAC,OAAO,CAAC,EACtB,wBAAoB,EACpB,cAAc,CAAC,UAAU,CAC1B,CAAC;AACF,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;AAClD,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;AACvD,MAAM,CAAC,KAAK,CACV,MAAM,EACN,cAAc,CAAC,OAAO,EACtB,cAAc,CAAC,UAAU,CAAC,OAAO,CAAC,EAClC,uBAAM,CAAC,MAAM,CAAC,OAAO,CAAC,EACtB,cAAc,CAAC,UAAU,CAC1B,CAAC;AACF,MAAM,CAAC,MAAM,CACX,MAAM,EACN,cAAc,CAAC,OAAO,EACtB,cAAc,CAAC,UAAU,CAAC,OAAO,CAAC,EAClC,cAAc,CAAC,UAAU,CAC1B,CAAC;AACF,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,cAAc,CAAC,OAAO,EAAE,wBAAO,CAAC,CAAC;AAC7D,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,cAAc,CAAC,OAAO,EAAE,uBAAM,CAAC,CAAC;AAE3D,kBAAe,MAAM,CAAC","sourcesContent":["import express from 'express';\nimport { addLike, unlike, upload } from '../controllers/blogController';\nimport createBlogValidation from '../validations/blogValidation';\nconst blogController = require('./../controllers/blogController');\nconst authController = require('./../controllers/authController');\n\nconst router = express.Router();\n\nrouter.post(\n  '/',\n  authController.protect,\n  authController.restrictTo('admin'),\n  upload.single('image'),\n  createBlogValidation,\n  blogController.CreateBlog,\n);\nrouter.route('/').get(blogController.GetAllBlogs);\nrouter.route('/:id').get(blogController.GetSingleBlog);\nrouter.patch(\n  '/:id',\n  authController.protect,\n  authController.restrictTo('admin'),\n  upload.single('image'),\n  blogController.UpdateBlog,\n);\nrouter.delete(\n  '/:id',\n  authController.protect,\n  authController.restrictTo('admin'),\n  blogController.DeleteBlog,\n);\nrouter.post('/:id/addlike', authController.protect, addLike);\nrouter.post('/:id/unlike', authController.protect, unlike);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1059c5e00e5f4727aa55b3153fb38ad3567fae4a"},"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/blogsModal.ts":{"path":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/blogsModal.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"25":{"start":{"line":26,"column":19},"end":{"line":26,"column":52}},"26":{"start":{"line":27,"column":19},"end":{"line":51,"column":2}},"27":{"start":{"line":52,"column":13},"end":{"line":52,"column":57}},"28":{"start":{"line":53,"column":0},"end":{"line":53,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21}},"s":{"0":1,"1":9,"2":9,"3":9,"4":9,"5":8,"6":1,"7":9,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":51,"21":9,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1},"f":{"0":9,"1":1,"2":0,"3":1,"4":0,"5":1},"b":{"0":[1,1,1],"1":[1,0],"2":[9,0],"3":[8,1],"4":[9,9],"5":[0,9],"6":[9,1],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,0],"14":[9,42],"15":[51,51]},"inputSourceMap":{"version":3,"file":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/blogsModal.ts","sources":["/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/blogsModal.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qDAAsD;AAYtD,MAAM,UAAU,GAAG,IAAI,iBAAM,CAAY;IACvC,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,CAAC,IAAI,EAAE,wBAAwB,CAAC;KAC3C;IACD,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;KACb;IACD,OAAO,EAAE;QACP,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,CAAC,IAAI,EAAE,0BAA0B,CAAC;KAC7C;IACD,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,CAAC;KACX;IACD,MAAM,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;IACxB,OAAO,EAAE;QACP,IAAI,EAAE,MAAM;KACb;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,IAAI;QACV,OAAO,EAAE,IAAI,IAAI,EAAE;KACpB;CACF,CAAC,CAAC;AAEH,MAAM,IAAI,GAAG,kBAAQ,CAAC,KAAK,CAAY,MAAM,EAAE,UAAU,CAAC,CAAC;AAC3D,kBAAe,IAAI,CAAC","sourcesContent":["import mongoose, { Document, Schema } from \"mongoose\";\n\nexport interface BlogModel extends Document {\n  title: string;\n  cover: string;\n  content: string;\n  likes: number;\n  author: String;\n  Comments: String;\n  createdAt: Date;\n}\n\nconst blogSchema = new Schema<BlogModel>({\n  title: {\n    type: String,\n    required: [true, \"Blog title is required\"],\n  },\n  cover: {\n    type: String,\n  },\n  content: {\n    type: String,\n    required: [true, \"Blog content is required\"],\n  },\n  likes: {\n    type: Number,\n    default: 0,\n  },\n  author: { type: String },\n  Comment: {\n    type: String,\n  },\n  CreateAt: {\n    type: Date,\n    default: new Date(),\n  },\n});\n\nconst Blog = mongoose.model<BlogModel>(\"Blog\", blogSchema);\nexport default Blog;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d67f4d1844e3e3b467bfe68cf4610852dcb8e9f8"},"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/routes/messageRoute.ts":{"path":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/routes/messageRoute.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":28},"end":{"line":7,"column":71}},"5":{"start":{"line":8,"column":28},"end":{"line":8,"column":88}},"6":{"start":{"line":9,"column":23},"end":{"line":9,"column":65}},"7":{"start":{"line":10,"column":15},"end":{"line":10,"column":41}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":78}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":109}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":114}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":117}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[1,1],"2":[2,2]},"inputSourceMap":{"version":3,"file":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/routes/messageRoute.ts","sources":["/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/routes/messageRoute.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,wEAAuG;AACvG,yFAAiE;AACjE,MAAM,cAAc,GAAG,OAAO,CAAC,iCAAiC,CAAC,CAAC;AAElE,MAAM,MAAM,GAAC,iBAAO,CAAC,MAAM,EAAE,CAAC;AAC9B,MAAM,CAAC,IAAI,CAAC,GAAG,EAAC,2BAAiB,EAAE,8BAAU,CAAC,CAAC;AAC/C,MAAM,CAAC,GAAG,CAAC,GAAG,EAAC,cAAc,CAAC,OAAO,EAAC,cAAc,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,+BAAW,CAAC,CAAC;AACvF,MAAM,CAAC,GAAG,CAAC,MAAM,EAAC,cAAc,CAAC,OAAO,EAAC,cAAc,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,iCAAa,CAAC,CAAC;AAC5F,MAAM,CAAC,MAAM,CAAC,MAAM,EAAC,cAAc,CAAC,OAAO,EAAC,cAAc,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,iCAAa,CAAC,CAAA;AAC9F,kBAAe,MAAM,CAAC","sourcesContent":["import express from \"express\";\nimport {addMessage, deleteMessage, getMessages, singleMessage} from \"../controllers/messageController\";\nimport messageValidation from \"../validations/messageValidation\";\nconst authController = require('./../controllers/authController');\n\nconst router=express.Router();\nrouter.post(\"/\",messageValidation, addMessage);\nrouter.get(\"/\",authController.protect,authController.restrictTo('admin'), getMessages);\nrouter.get(\"/:id\",authController.protect,authController.restrictTo('admin'), singleMessage);\nrouter.delete(\"/:id\",authController.protect,authController.restrictTo('admin'), deleteMessage)\nexport default router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ff48bca4c7b5870047e0a293ee7f55ebf09add93"},"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/messageModal.ts":{"path":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/messageModal.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":55}},"4":{"start":{"line":7,"column":22},"end":{"line":27,"column":2}},"5":{"start":{"line":28,"column":21},"end":{"line":28,"column":72}},"6":{"start":{"line":29,"column":0},"end":{"line":29,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/messageModal.ts","sources":["/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/messageModal.ts"],"names":[],"mappings":";;;;;AAAA,wDAA6D;AAW7D,MAAM,aAAa,GAAqB,IAAI,kBAAQ,CAAC,MAAM,CAAC;IAC1D,SAAS,EAAE;QACT,IAAI,EAAE,MAAM;KACb;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,MAAM;KACb;IACD,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;KACb;IACD,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;KACb;IACD,OAAO,EAAE;QACP,IAAI,EAAE,MAAM;KACb;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,IAAI;QACV,OAAO,EAAE,IAAI,CAAC,GAAG;KAClB;CACF,CAAC,CAAC;AAEH,MAAM,YAAY,GAAoB,kBAAQ,CAAC,KAAK,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;AAEhF,kBAAe,YAAY,CAAC","sourcesContent":["import mongoose, { Schema, Document, Model } from 'mongoose';\n\nexport interface IMessage extends Document {\n  firstname: string;\n  lastname: string;\n  email: string;\n  phone: string;\n  message: string;\n  date: Date;\n}\n\nconst messageSchema: Schema<IMessage> = new mongoose.Schema({\n  firstname: {\n    type: String,\n  },\n  lastname: {\n    type: String,\n  },\n  email: {\n    type: String,\n  },\n  phone: {\n    type: String,\n  },\n  message: {\n    type: String,\n  },\n  date: {\n    type: Date,\n    default: Date.now,\n  },\n});\n\nconst MessageModel: Model<IMessage> = mongoose.model('Messages', messageSchema);\n\nexport default MessageModel;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b2e4e629d6832fa5a74179f347e3c6c8cf74b2c2"},"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/commentModal.ts":{"path":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/commentModal.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"25":{"start":{"line":26,"column":19},"end":{"line":26,"column":52}},"26":{"start":{"line":27,"column":22},"end":{"line":46,"column":2}},"27":{"start":{"line":47,"column":16},"end":{"line":47,"column":66}},"28":{"start":{"line":48,"column":0},"end":{"line":48,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21}},"s":{"0":1,"1":9,"2":9,"3":9,"4":9,"5":8,"6":1,"7":9,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":51,"21":9,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1},"f":{"0":9,"1":1,"2":0,"3":1,"4":0,"5":1},"b":{"0":[1,1,1],"1":[1,0],"2":[9,0],"3":[8,1],"4":[9,9],"5":[0,9],"6":[9,1],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,0],"14":[9,42],"15":[51,51]},"inputSourceMap":{"version":3,"file":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/commentModal.ts","sources":["/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/models/commentModal.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qDAA6D;AAY7D,MAAM,aAAa,GAAqB,IAAI,iBAAM,CAAW;IACzD,IAAI,EAAE;QACF,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACjB;IACD,OAAO,EAAE;QACL,IAAI,EAAE,MAAM;KACf;IACD,OAAO,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,GAAG,EAAE,MAAM;KACd;IACD,SAAS,EAAE;QACP,IAAI,EAAE,IAAI;QACV,OAAO,EAAE,IAAI,CAAC,GAAG;KACpB;IACD,OAAO,EAAC;QACJ,IAAI,EAAC,MAAM;KACd;CACJ,CAAC,CAAC;AAEH,MAAM,OAAO,GAAoB,kBAAQ,CAAC,KAAK,CAAW,SAAS,EAAE,aAAa,CAAC,CAAC;AAEpF,kBAAe,OAAO,CAAC","sourcesContent":["import mongoose, { Document, Schema, Model } from \"mongoose\";\n\n// Define interface for the comment document\nexport interface IComment extends Document {\n    user_id: string;\n    comment: string;\n    blog_id: mongoose.Types.ObjectId;\n    createdAt: Date;\n    picture:string\n}\n\n// Define the schema\nconst commentSchema: Schema<IComment> = new Schema<IComment>({\n    name: {\n        type: String,\n        required: true,\n    },\n    comment: {\n        type: String,\n    },\n    blog_id: {\n        type: String,\n        ref: \"Blog\", \n    },\n    createdAt: {\n        type: Date,\n        default: Date.now,\n    },\n    picture:{\n        type:String,\n    }\n});\n\nconst Comment: Model<IComment> = mongoose.model<IComment>(\"Comment\", commentSchema);\n\nexport default Comment;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4dbcbfca39c7aca8fdc897cbc829fed071241a69"},"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/blog.spec.ts":{"path":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/blog.spec.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":57}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":47}},"5":{"start":{"line":8,"column":20},"end":{"line":8,"column":57}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":30}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"8":{"start":{"line":11,"column":14},"end":{"line":11,"column":51}},"9":{"start":{"line":12,"column":21},"end":{"line":12,"column":69}},"10":{"start":{"line":13,"column":0},"end":{"line":72,"column":3}},"11":{"start":{"line":14,"column":4},"end":{"line":21,"column":7}},"12":{"start":{"line":15,"column":8},"end":{"line":20,"column":9}},"13":{"start":{"line":16,"column":12},"end":{"line":16,"column":48}},"14":{"start":{"line":19,"column":12},"end":{"line":19,"column":65}},"15":{"start":{"line":22,"column":4},"end":{"line":26,"column":7}},"16":{"start":{"line":23,"column":8},"end":{"line":25,"column":11}},"17":{"start":{"line":24,"column":12},"end":{"line":24,"column":19}},"18":{"start":{"line":27,"column":20},"end":{"line":27,"column":22}},"19":{"start":{"line":28,"column":21},"end":{"line":28,"column":23}},"20":{"start":{"line":29,"column":4},"end":{"line":35,"column":7}},"21":{"start":{"line":30,"column":25},"end":{"line":33,"column":10}},"22":{"start":{"line":34,"column":8},"end":{"line":34,"column":40}},"23":{"start":{"line":36,"column":4},"end":{"line":40,"column":7}},"24":{"start":{"line":37,"column":25},"end":{"line":37,"column":97}},"25":{"start":{"line":38,"column":8},"end":{"line":38,"column":57}},"26":{"start":{"line":39,"column":8},"end":{"line":39,"column":99}},"27":{"start":{"line":41,"column":4},"end":{"line":48,"column":7}},"28":{"start":{"line":42,"column":25},"end":{"line":45,"column":21}},"29":{"start":{"line":46,"column":8},"end":{"line":46,"column":57}},"30":{"start":{"line":47,"column":8},"end":{"line":47,"column":88}},"31":{"start":{"line":49,"column":4},"end":{"line":64,"column":7}},"32":{"start":{"line":50,"column":20},"end":{"line":56,"column":10}},"33":{"start":{"line":57,"column":8},"end":{"line":57,"column":36}},"34":{"start":{"line":58,"column":25},"end":{"line":61,"column":21}},"35":{"start":{"line":62,"column":8},"end":{"line":62,"column":57}},"36":{"start":{"line":63,"column":8},"end":{"line":63,"column":83}},"37":{"start":{"line":65,"column":4},"end":{"line":71,"column":7}},"38":{"start":{"line":66,"column":25},"end":{"line":68,"column":57}},"39":{"start":{"line":69,"column":8},"end":{"line":69,"column":57}},"40":{"start":{"line":70,"column":8},"end":{"line":70,"column":69}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":27},"end":{"line":13,"column":28}},"loc":{"start":{"line":13,"column":33},"end":{"line":72,"column":1}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":11},"end":{"line":14,"column":12}},"loc":{"start":{"line":14,"column":23},"end":{"line":21,"column":5}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":11},"end":{"line":22,"column":12}},"loc":{"start":{"line":22,"column":21},"end":{"line":26,"column":5}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":23,"column":44},"end":{"line":23,"column":45}},"loc":{"start":{"line":23,"column":53},"end":{"line":25,"column":9}},"line":23},"5":{"name":"(anonymous_5)","decl":{"start":{"line":29,"column":62},"end":{"line":29,"column":63}},"loc":{"start":{"line":29,"column":74},"end":{"line":35,"column":5}},"line":29},"6":{"name":"(anonymous_6)","decl":{"start":{"line":36,"column":43},"end":{"line":36,"column":44}},"loc":{"start":{"line":36,"column":55},"end":{"line":40,"column":5}},"line":36},"7":{"name":"(anonymous_7)","decl":{"start":{"line":41,"column":46},"end":{"line":41,"column":47}},"loc":{"start":{"line":41,"column":58},"end":{"line":48,"column":5}},"line":41},"8":{"name":"(anonymous_8)","decl":{"start":{"line":49,"column":45},"end":{"line":49,"column":46}},"loc":{"start":{"line":49,"column":57},"end":{"line":64,"column":5}},"line":49},"9":{"name":"(anonymous_9)","decl":{"start":{"line":65,"column":34},"end":{"line":65,"column":35}},"loc":{"start":{"line":65,"column":46},"end":{"line":71,"column":5}},"line":65}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":5,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1},"f":{"0":5,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"b":{"0":[1,1,1],"1":[2,3],"2":[5,5]},"inputSourceMap":{"version":3,"file":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/blog.spec.ts","sources":["/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/blog.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import request from 'supertest';\nimport chai from 'chai';\nimport chaiHttp from 'chai-http';\nimport { expect } from 'chai';\nchai.use(chaiHttp);\n// import mongoose from 'mongoose';\nimport app from '../../app';\nimport Blog from '../models/blogsModal';\n// import path from 'path';\ndescribe('Blog Endpoints', () => {\n  before(async () => {\n    try {\n      // await mongoose.connect('mongodb://127.0.0.1:27017/Todo-dbs', {\n      //   useNewUrlParser: true,\n      //   useUnifiedTopology: true,\n      // });\n      console.log('Connected to MongoDB');\n    } catch (error) {\n      console.error('Error connecting to MongoDB:', error);\n    }\n  });\n\n  before((done) => {\n    Blog.deleteMany({}, (err) => {\n      done();\n    });\n  });\n  let userToken = '';\n  let adminToken = '';\n  //   const img = path.resolve('./tests');\n  it('should login a user successfully and return a token', async () => {\n    const response = await request(app).post('/api/users/login').send({\n      email: 'test1@example.com',\n      password: 'password123',\n    });\n    userToken = response.body.token;\n  });\n  it('should ask a user to login first', async () => {\n    const response = await request(app).post('/api/blog').send({});\n    expect(response).to.have.status(401);\n    expect(response.body.message).to.equal(\n      'You are not logined in. Please login'\n    );\n  });\n  it('should ask a user to login as admin', async () => {\n    const response = await request(app)\n      .post('/api/blog')\n      .set('authorization', `Bearer ${userToken}`)\n      .send({});\n    expect(response).to.have.status(403);\n    expect(response.body.message).to.equal('Login As An Administrator');\n  });\n  it('should return invalid blog details', async () => {\n    const res = await request(app).post('/api/users/signup').send({\n      name: 'Test User',\n      email: 'test2@example.com',\n      password: 'password123',\n      confirmPassword: 'password123',\n      role: 'admin',\n    });\n    adminToken = res.body.token;\n    const response = await request(app)\n      .post('/api/blog')\n      .set('authorization', `Bearer ${adminToken}`)\n      .send({});\n    expect(response).to.have.status(403);\n    expect(response.body.message).to.equal('Invalid blog details');\n  });\n  //   it('should successful create a blog', async () => {\n  //     const response = await request(app)\n  //       .post('/api/blog')\n  //       .set('authorization', `Bearer ${adminToken}`)\n  //       .field({\n  //         title: 'testing an image',\n  //         content: 'lorem ipsum test',\n  //       })\n  //       .attach('image', `${img}/smartwatch.png`);\n  //     console.log('====================================');\n  //     console.log(response);\n  //     console.log('====================================');\n  //     expect(response).to.have.status(201);\n  //     expect(response.body.message).to.equal('Invalid blog details');\n  //   });\n  it('should return all blogs', async () => {\n    const response = await request(app)\n      .get('/api/blog')\n      .set('authorization', `Bearer ${adminToken}`);\n    expect(response).to.have.status(200);\n    expect(response.body.status).to.equal('success');\n  });\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4d24b7e8436eaca19ce2df753a2e8bb1ee2de6ee"},"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/message.spec.ts":{"path":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/message.spec.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":57}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":47}},"5":{"start":{"line":8,"column":20},"end":{"line":8,"column":57}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":30}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"8":{"start":{"line":11,"column":14},"end":{"line":11,"column":51}},"9":{"start":{"line":12,"column":0},"end":{"line":34,"column":3}},"10":{"start":{"line":13,"column":4},"end":{"line":20,"column":7}},"11":{"start":{"line":14,"column":8},"end":{"line":19,"column":9}},"12":{"start":{"line":15,"column":12},"end":{"line":15,"column":48}},"13":{"start":{"line":18,"column":12},"end":{"line":18,"column":65}},"14":{"start":{"line":21,"column":4},"end":{"line":33,"column":7}},"15":{"start":{"line":22,"column":25},"end":{"line":30,"column":10}},"16":{"start":{"line":31,"column":8},"end":{"line":31,"column":57}},"17":{"start":{"line":32,"column":8},"end":{"line":32,"column":84}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":30},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":36},"end":{"line":34,"column":1}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":11},"end":{"line":13,"column":12}},"loc":{"start":{"line":13,"column":23},"end":{"line":20,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":21,"column":54},"end":{"line":21,"column":55}},"loc":{"start":{"line":21,"column":66},"end":{"line":33,"column":5}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":4,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":1},"f":{"0":4,"1":1,"2":1,"3":1},"b":{"0":[1,1,1],"1":[1,3],"2":[4,4]},"inputSourceMap":{"version":3,"file":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/message.spec.ts","sources":["/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/message.spec.ts"],"names":[],"mappings":";;;;;AAAA,0DAAgC;AAChC,gDAAwB;AACxB,0DAAiC;AACjC,+BAA8B;AAC9B,cAAI,CAAC,GAAG,CAAC,mBAAQ,CAAC,CAAC;AAEnB,oDAA4B;AAC5B,QAAQ,CAAC,mBAAmB,EAAE,GAAG,EAAE;IACjC,MAAM,CAAC,KAAK,IAAI,EAAE;QAChB,IAAI,CAAC;YAKH,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QACtC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;QACvD,CAAC;IACH,CAAC,CAAC,CAAC;IACH,EAAE,CAAC,6CAA6C,EAAE,KAAK,IAAI,EAAE;QAC3D,MAAM,QAAQ,GAAG,MAAM,IAAA,mBAAO,EAAC,aAAG,CAAC;aAChC,IAAI,CAAC,eAAe,CAAC;aACrB,IAAI,CAAC;YACJ,SAAS,EAAE,MAAM;YACjB,QAAQ,EAAE,MAAM;YAChB,KAAK,EAAE,mBAAmB;YAC1B,KAAK,EAAE,YAAY;YACnB,OAAO,EAAE,QAAQ;SAClB,CAAC,CAAC;QACL,IAAA,aAAM,EAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACrC,IAAA,aAAM,EAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC;IAClE,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import request from 'supertest';\nimport chai from 'chai';\nimport chaiHttp from 'chai-http';\nimport { expect } from 'chai';\nchai.use(chaiHttp);\n// import mongoose from 'mongoose';\nimport app from '../../app';\ndescribe('Message endpoints', () => {\n  before(async () => {\n    try {\n      // await mongoose.connect('mongodb://127.0.0.1:27017/Todo-dbs', {\n      //   useNewUrlParser: true,\n      //   useUnifiedTopology: true,\n      // });\n      console.log('Connected to MongoDB');\n    } catch (error) {\n      console.error('Error connecting to MongoDB:', error);\n    }\n  });\n  it('should create a new user and return a token', async () => {\n    const response = await request(app)\n      .post('/api/messages')\n      .send({\n        firstname: 'Test',\n        lastname: 'User',\n        email: 'test1@example.com',\n        phone: '0780403244',\n        message: 'hi fam',\n      });\n    expect(response).to.have.status(201);\n    expect(response.body.message).to.equal('Message has been sent');\n  });\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1755681ac1cdd58fdc7e3b25b1b6974f0369b9d0"},"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/user.spec.ts":{"path":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/user.spec.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":57}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":47}},"5":{"start":{"line":8,"column":20},"end":{"line":8,"column":57}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":30}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"8":{"start":{"line":11,"column":14},"end":{"line":11,"column":51}},"9":{"start":{"line":12,"column":0},"end":{"line":38,"column":3}},"10":{"start":{"line":13,"column":4},"end":{"line":20,"column":7}},"11":{"start":{"line":14,"column":8},"end":{"line":19,"column":9}},"12":{"start":{"line":15,"column":12},"end":{"line":15,"column":48}},"13":{"start":{"line":18,"column":12},"end":{"line":18,"column":65}},"14":{"start":{"line":21,"column":21},"end":{"line":21,"column":23}},"15":{"start":{"line":22,"column":4},"end":{"line":37,"column":7}},"16":{"start":{"line":23,"column":20},"end":{"line":29,"column":10}},"17":{"start":{"line":30,"column":8},"end":{"line":30,"column":36}},"18":{"start":{"line":31,"column":25},"end":{"line":33,"column":57}},"19":{"start":{"line":34,"column":8},"end":{"line":34,"column":57}},"20":{"start":{"line":35,"column":8},"end":{"line":35,"column":69}},"21":{"start":{"line":36,"column":8},"end":{"line":36,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":27},"end":{"line":12,"column":28}},"loc":{"start":{"line":12,"column":33},"end":{"line":38,"column":1}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":11},"end":{"line":13,"column":12}},"loc":{"start":{"line":13,"column":23},"end":{"line":20,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":34},"end":{"line":22,"column":35}},"loc":{"start":{"line":22,"column":46},"end":{"line":37,"column":5}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":4,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1},"f":{"0":4,"1":1,"2":1,"3":1},"b":{"0":[1,1,1],"1":[1,3],"2":[4,4]},"inputSourceMap":{"version":3,"file":"/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/user.spec.ts","sources":["/Users/saltonjoseph/Desktop/mybrand backend/mybrandbackend/src/tests/user.spec.ts"],"names":[],"mappings":";;;;;AAAA,0DAAgC;AAChC,gDAAwB;AACxB,0DAAiC;AACjC,+BAA8B;AAC9B,cAAI,CAAC,GAAG,CAAC,mBAAQ,CAAC,CAAC;AAGnB,oDAA4B;AAC5B,QAAQ,CAAC,gBAAgB,EAAE,GAAG,EAAE;IAC9B,MAAM,CAAC,KAAK,IAAI,EAAE;QAChB,IAAI,CAAC;YAKH,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QACtC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;QACvD,CAAC;IACH,CAAC,CAAC,CAAC;IACH,IAAI,UAAU,GAAG,EAAE,CAAC;IACpB,EAAE,CAAC,yBAAyB,EAAE,KAAK,IAAI,EAAE;QACvC,MAAM,GAAG,GAAG,MAAM,IAAA,mBAAO,EAAC,aAAG,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,IAAI,CAAC;YAC5D,IAAI,EAAE,WAAW;YACjB,KAAK,EAAE,mBAAmB;YAC1B,QAAQ,EAAE,aAAa;YACvB,eAAe,EAAE,aAAa;YAC9B,IAAI,EAAE,OAAO;SACd,CAAC,CAAC;QACH,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;QAC5B,MAAM,QAAQ,GAAG,MAAM,IAAA,mBAAO,EAAC,aAAG,CAAC;aAChC,GAAG,CAAC,YAAY,CAAC;aACjB,GAAG,CAAC,eAAe,EAAE,UAAU,UAAU,EAAE,CAAC,CAAC;QAChD,IAAA,aAAM,EAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACrC,IAAA,aAAM,EAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QACjD,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import request from 'supertest';\nimport chai from 'chai';\nimport chaiHttp from 'chai-http';\nimport { expect } from 'chai';\nchai.use(chaiHttp);\n// import User from '../models/userModel';\n// import mongoose from 'mongoose';\nimport app from '../../app';\ndescribe('Auth endpoints', () => {\n  before(async () => {\n    try {\n      // await mongoose.connect('mongodb://127.0.0.1:27017/Todo-dbs', {\n      //   useNewUrlParser: true,\n      //   useUnifiedTopology: true,\n      // });\n      console.log('Connected to MongoDB');\n    } catch (error) {\n      console.error('Error connecting to MongoDB:', error);\n    }\n  });\n  let adminToken = '';\n  it('should return all users', async () => {\n    const res = await request(app).post('/api/users/signup').send({\n      name: 'Test User',\n      email: 'test3@example.com',\n      password: 'password123',\n      confirmPassword: 'password123',\n      role: 'admin',\n    });\n    adminToken = res.body.token;\n    const response = await request(app)\n      .get('/api/users')\n      .set('authorization', `Bearer ${adminToken}`);\n    expect(response).to.have.status(200);\n    expect(response.body.status).to.equal('success');\n    process.exit(0);\n  });\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"aae9b7ee32c833677ada0dba3d34ad38ba08e977"}}